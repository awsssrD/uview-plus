import{_ as o}from"./u-overlay.5dduYdrC.js";import{l as t,n as e,m as s,f as a,q as i,J as l,p as r,s as n,r as p,o as u,c as d,w as c,v as m,a as y,u as h,E as f,h as _,z as b,i as v}from"./index-C9zSfqjF.js";import{r as k}from"./uni-app.es.BsVVcdW4.js";import{_ as g}from"./u-status-bar.D5YmhZ03.js";import{_ as C}from"./u-icon.D4ZJFtcJ.js";import{_ as S}from"./u-safe-bottom.DfUpn6QN.js";import{_ as I}from"./u-transition.B9kwB5HN.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=w({name:"u-popup",mixins:[s,a,t({props:{show:{type:Boolean,default:()=>e.popup.show},overlay:{type:Boolean,default:()=>e.popup.overlay},mode:{type:String,default:()=>e.popup.mode},duration:{type:[String,Number],default:()=>e.popup.duration},closeable:{type:Boolean,default:()=>e.popup.closeable},overlayStyle:{type:[Object,String],default:()=>e.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:()=>e.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:()=>e.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:()=>e.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:()=>e.popup.safeAreaInsetTop},closeIconPos:{type:String,default:()=>e.popup.closeIconPos},round:{type:[Boolean,String,Number],default:()=>e.popup.round},zoom:{type:Boolean,default:()=>e.popup.zoom},bgColor:{type:String,default:()=>e.popup.bgColor},overlayOpacity:{type:[Number,String],default:()=>e.popup.overlayOpacity}}})],data(){return{overlayDuration:this.duration+50}},watch:{show(o,t){}},computed:{transitionStyle(){const o={zIndex:this.zIndex,position:"fixed",display:"flex"};return o[this.mode]=0,"left"===this.mode||"right"===this.mode?i(o,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?i(o,{left:0,right:0}):"center"===this.mode?i(o,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const o={};if(l(),"center"!==this.mode&&(o.flex=1),this.bgColor&&(o.backgroundColor=this.bgColor),this.round){const t=r(this.round);"top"===this.mode?(o.borderBottomLeftRadius=t,o.borderBottomRightRadius=t):"bottom"===this.mode?(o.borderTopLeftRadius=t,o.borderTopRightRadius=t):"center"===this.mode&&(o.borderRadius=t)}return i(o,n(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click","update:show"],methods:{overlayClick(){this.closeOnClickOverlay&&(this.$emit("update:show",!1),this.$emit("close"))},close(o){this.$emit("update:show",!1),this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(t,e,s,a,i,l){const r=k(p("u-overlay"),o),n=k(p("u-status-bar"),g),w=k(p("u-icon"),C),x=v,B=k(p("u-safe-bottom"),S),z=k(p("u-transition"),I);return u(),d(x,{class:b(["u-popup",[t.customClass]])},{default:c((()=>[t.overlay?(u(),d(r,{key:0,show:t.show,onClick:l.overlayClick,zIndex:t.zIndex,duration:i.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity},null,8,["show","onClick","zIndex","duration","customStyle","opacity"])):m("",!0),y(z,{show:t.show,customStyle:l.transitionStyle,mode:l.position,duration:t.duration,onAfterEnter:l.afterEnter,onClick:l.clickHandler},{default:c((()=>[y(x,{class:"u-popup__content",style:h([l.contentStyle]),onClick:f(t.noop,["stop"])},{default:c((()=>[t.safeAreaInsetTop?(u(),d(n,{key:0})):m("",!0),_(t.$slots,"default",{},void 0,!0),t.closeable?(u(),d(x,{key:1,onClick:f(l.close,["stop"]),class:b(["u-popup__content__close",["u-popup__content__close--"+t.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:c((()=>[y(w,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):m("",!0),t.safeAreaInsetBottom?(u(),d(B,{key:2})):m("",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3},8,["class"])}],["__scopeId","data-v-f9e565e9"]]);export{x as _};
