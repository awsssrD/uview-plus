import{l as e,n as t,m as a,f as l,s as o,r as i,o as n,c as s,w as c,a as u,b as r,h as d,F as h,j as p,t as _,u as m,i as b,k as f,q as v,y as g,v as x,z as y,E as C,e as k}from"./index-OUvyWj0Q.js";import{_ as I}from"./u-icon.CRrcKenn.js";import{r as S}from"./uni-app.es.B2lzmc_8.js";import{_ as A}from"./u-badge.BG2DqYGv.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as D}from"./u-safe-bottom.Dnz_P5PF.js";import{_ as w}from"./u-gap.Ds5auSG6.js";const P=B({name:"u-tabbar-item",mixins:[a,l,e({props:{name:{type:[String,Number,null],default:()=>t.tabbarItem.name},icon:{icon:String,default:()=>t.tabbarItem.icon},badge:{type:[String,Number,null],default:()=>t.tabbarItem.badge},dot:{type:Boolean,default:()=>t.tabbarItem.dot},text:{type:String,default:()=>t.tabbarItem.text},badgeStyle:{type:[Object,String],default:()=>t.tabbarItem.badgeStyle}}})],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}),options:{virtualHost:!0},created(){this.init()},emits:["click","change"],methods:{addStyle:o,init(){this.updateParentData(),this.parent;const e=this.parent.children.indexOf(this);this.isActive=(this.name||e)===this.parentData.value},updateParentData(){this.getParentData("u-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const e=this.parent.children.indexOf(this),t=this.name||e;t!==this.parent.value&&this.parent.$emit("change",t),this.$emit("click",t)}))}}},[["render",function(e,t,a,l,o,v){const g=S(i("u-icon"),I),x=S(i("u-badge"),A),y=b,C=f;return n(),s(y,{class:"u-tabbar-item",style:m([v.addStyle(e.customStyle)]),onClick:v.clickHandler},{default:c((()=>[u(y,{class:"u-tabbar-item__icon"},{default:c((()=>[e.icon?(n(),s(g,{key:0,name:e.icon,color:o.isActive?o.parentData.activeColor:o.parentData.inactiveColor,size:20},null,8,["name","color"])):(n(),r(h,{key:1},[o.isActive?d(e.$slots,"active-icon",{key:0},void 0,!0):d(e.$slots,"inactive-icon",{key:1},void 0,!0)],64)),u(x,{absolute:"",offset:[0,e.dot?"34rpx":e.badge>9?"14rpx":"20rpx"],customStyle:e.badgeStyle,isDot:e.dot,value:e.badge||(e.dot?1:null),show:e.dot||e.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),d(e.$slots,"text",{},(()=>[u(C,{class:"u-tabbar-item__text",style:m({color:o.isActive?o.parentData.activeColor:o.parentData.inactiveColor})},{default:c((()=>[p(_(e.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-2f4cd209"]]);const j=B({name:"u-tabbar",mixins:[a,l,e({props:{value:{type:[String,Number,null],default:()=>t.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:()=>t.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:()=>t.tabbar.border},zIndex:{type:[String,Number],default:()=>t.tabbar.zIndex},activeColor:{type:String,default:()=>t.tabbar.activeColor},inactiveColor:{type:String,default:()=>t.tabbar.inactiveColor},fixed:{type:Boolean,default:()=>t.tabbar.fixed},placeholder:{type:Boolean,default:()=>t.tabbar.placeholder}}})],data:()=>({placeholderHeight:0}),computed:{tabbarStyle(){const e={zIndex:this.zIndex};return v(e,o(this.customStyle))},updateChild(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder(){return[this.fixed,this.placeholder]}},watch:{updateChild(){this.updateChildren()},updatePlaceholder(){this.setPlaceholderHeight()}},created(){this.children=[]},mounted(){this.setPlaceholderHeight()},methods:{updateChildren(){this.children.length&&this.children.map((e=>e.updateFromParent()))},async setPlaceholderHeight(){this.fixed&&this.placeholder&&(await g(20),this.$uGetRect(".u-tabbar__content").then((({height:e=50})=>{this.placeholderHeight=e})))}}},[["render",function(e,t,a,l,o,r){const h=b,p=S(i("u-safe-bottom"),D);return n(),s(h,{class:"u-tabbar"},{default:c((()=>[u(h,{class:y(["u-tabbar__content",[e.border&&"u-border-top",e.fixed&&"u-tabbar--fixed"]]),ref:"u-tabbar__content",onTouchmove:C(e.noop,["stop","prevent"]),style:m([r.tabbarStyle])},{default:c((()=>[u(h,{class:"u-tabbar__content__item-wrapper"},{default:c((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3}),e.safeAreaInsetBottom?(n(),s(p,{key:0})):x("",!0)])),_:3},8,["onTouchmove","class","style"]),e.placeholder?(n(),s(h,{key:0,class:"u-tabbar__placeholder",style:m({height:o.placeholderHeight+"px"})},null,8,["style"])):x("",!0)])),_:3})}],["__scopeId","data-v-2808b6ab"]]);const H=B({data:()=>({value1:0,value2:1,value3:"play-right",value4:0,value5:0,value6:0,value7:3}),onLoad(){},methods:{change5(e){if(1===e)return uni.$u.toast("请您先登录");this.value5=e},change1(e){this.value1=e,console.log("change1",e)},click1(e){console.log("click1",e)}}},[["render",function(e,t,a,l,o,r){const d=f,h=S(i("up-tabbar-item"),P),_=S(i("up-tabbar"),j),m=b,v=k,g=S(i("up-gap"),w);return n(),s(m,{class:"u-page"},{default:c((()=>[u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("基础功能")])),_:1}),u(_,{value:o.value1,onChange:r.change1,fixed:!1,placeholder:!1,safeAreaInsetBottom:!1},{default:c((()=>[u(h,{text:"首页",icon:"home",onClick:r.click1},null,8,["onClick"]),u(h,{text:"放映厅",icon:"photo",onClick:r.click1},null,8,["onClick"]),u(h,{text:"直播",icon:"play-right",onClick:r.click1},null,8,["onClick"]),u(h,{text:"我的",icon:"account",onClick:r.click1},null,8,["onClick"])])),_:1},8,["value","onChange"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("显示徽标")])),_:1}),u(_,{value:o.value2,placeholder:!1,onChange:t[0]||(t[0]=e=>o.value2=e),fixed:!1,safeAreaInsetBottom:!1},{default:c((()=>[u(h,{text:"首页",icon:"home",dot:""}),u(h,{text:"放映厅",icon:"photo",badge:"3"}),u(h,{text:"直播",icon:"play-right"}),u(h,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("匹配标签的名称")])),_:1}),u(_,{placeholder:!1,value:o.value3,onChange:t[1]||(t[1]=e=>o.value3=e),fixed:!1,safeAreaInsetBottom:!1},{default:c((()=>[u(h,{text:"首页",icon:"home",name:"home"}),u(h,{text:"放映厅",icon:"photo",name:"photo"}),u(h,{text:"直播",icon:"play-right",name:"play-right"}),u(h,{text:"我的",name:"account",icon:"account"})])),_:1},8,["value"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("自定义图标/颜色")])),_:1}),u(_,{value:o.value4,onChange:t[2]||(t[2]=e=>o.value4=e),fixed:!1,placeholder:!1,activeColor:"#d81e06",safeAreaInsetBottom:!1},{default:c((()=>[u(h,{text:"首页"},{"active-icon":c((()=>[u(v,{class:"u-page__item__slot-icon",src:"https://cdn.uviewui.com/uview/common/bell-selected.png"})])),"inactive-icon":c((()=>[u(v,{class:"u-page__item__slot-icon",src:"https://cdn.uviewui.com/uview/common/bell.png"})])),_:1}),u(h,{text:"放映厅",icon:"photo"}),u(h,{text:"直播",icon:"play-right"}),u(h,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("拦截切换事件(点击第二个标签)")])),_:1}),u(_,{value:o.value5,fixed:!1,onChange:r.change5,safeAreaInsetBottom:!1,placeholder:!1},{default:c((()=>[u(h,{text:"首页",icon:"home"}),u(h,{text:"放映厅",icon:"photo"}),u(h,{text:"直播",icon:"play-right"}),u(h,{text:"我的",icon:"account"})])),_:1},8,["value","onChange"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("去除上边框")])),_:1}),u(_,{value:o.value7,placeholder:!1,border:!1,onChange:t[3]||(t[3]=e=>o.value7=e),fixed:!1,safeAreaInsetBottom:!1},{default:c((()=>[u(h,{text:"首页",icon:"home"}),u(h,{text:"放映厅",icon:"photo"}),u(h,{text:"直播",icon:"play-right"}),u(h,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),u(m,{class:"u-page__item"},{default:c((()=>[u(d,{class:"u-page__item__title"},{default:c((()=>[p("固定在底部(固定在屏幕最下方)")])),_:1}),u(g,{height:"150"}),u(_,{value:o.value6,onChange:t[4]||(t[4]=e=>o.value6=e),fixed:!0,placeholder:!0,safeAreaInsetBottom:!0},{default:c((()=>[u(h,{text:"首页",icon:"home"}),u(h,{text:"放映厅",icon:"photo"}),u(h,{text:"直播",icon:"play-right"}),u(h,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1})])),_:1})}],["__scopeId","data-v-c7117bd8"]]);export{H as default};
