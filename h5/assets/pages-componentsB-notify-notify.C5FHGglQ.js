import{_ as t}from"./up-gap.QI1TW2Jw.js";import{h as o,j as e,m as i,k as n,l as s,p as r,n as f,r as a,o as p,c as l,w as c,a as u,s as m,u as y,q as g,f as d,t as h,y as C,g as S,i as w,b as _,d as b,F as z,e as T}from"./index-C3UXxwfW.js";import{r as v}from"./uni-app.es.CqYlZVXb.js";import{_ as I}from"./up-cell.D3gLs5ov.js";import{_ as k}from"./up-cell-group.CTmC7PO2.js";import{_ as A}from"./up-status-bar.VZkP8NkI.js";import{_ as j}from"./up-icon.BrIVCe5a.js";import{_ as U}from"./up-transition.CkVV8kmf.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./up-line.BBfW2jaO.js";const D=x({name:"up-notify",mixins:[i,n,o({props:{top:{type:[String,Number],default:()=>e.notify.top},type:{type:String,default:()=>e.notify.type},color:{type:String,default:()=>e.notify.color},bgColor:{type:String,default:()=>e.notify.bgColor},message:{type:String,default:()=>e.notify.message},duration:{type:[String,Number],default:()=>e.notify.duration},fontSize:{type:[String,Number],default:()=>e.notify.fontSize},safeAreaInsetTop:{type:Boolean,default:()=>e.notify.safeAreaInsetTop}}})],data:()=>({open:!1,timer:null,config:{top:e.notify.top,type:e.notify.type,color:e.notify.color,bgColor:e.notify.bgColor,message:e.notify.message,duration:e.notify.duration,fontSize:e.notify.fontSize,safeAreaInsetTop:e.notify.safeAreaInsetTop},tmpConfig:{}}),computed:{containerStyle(){let t=0;0===this.tmpConfig.top&&(t=44);return{top:s(0===this.tmpConfig.top?t:this.tmpConfig.top),position:"fixed",left:0,right:0,zIndex:10076}},backgroundColor(){const t={};return this.tmpConfig.bgColor&&(t.backgroundColor=this.tmpConfig.bgColor),t},icon(){let t;return"success"===this.tmpConfig.type?t="checkmark-circle":"error"===this.tmpConfig.type?t="close-circle":"warning"===this.tmpConfig.type&&(t="error-circle"),t}},created(){["primary","success","error","warning"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{addStyle:r,addUnit:s,show(t){this.tmpConfig=f(this.config,t),this.clearTimer(),this.open=!0,this.tmpConfig.duration>0&&(this.timer=setTimeout((()=>{this.open=!1,this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration))},close(){this.clearTimer()},clearTimer(){this.open=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}},[["render",function(t,o,e,i,n,s){const r=v(a("up-status-bar"),A),f=v(a("up-icon"),j),_=S,b=w,z=v(a("up-transition"),U);return p(),l(z,{mode:"slide-down",customStyle:s.containerStyle,show:n.open},{default:c((()=>[u(b,{class:C(["up-notify",[`up-notify--${n.tmpConfig.type}`]]),style:g([s.backgroundColor,s.addStyle(t.customStyle)])},{default:c((()=>[n.tmpConfig.safeAreaInsetTop?(p(),l(r,{key:0})):m("",!0),u(b,{class:"up-notify__warpper"},{default:c((()=>[y(t.$slots,"icon",{},(()=>[["success","warning","error"].includes(n.tmpConfig.type)?(p(),l(f,{key:0,name:n.tmpConfig.icon,color:n.tmpConfig.color,size:1.3*n.tmpConfig.fontSize,customStyle:{marginRight:"4px"}},null,8,["name","color","size"])):m("",!0)]),!0),u(_,{class:"up-notify__warpper__text",style:g({fontSize:s.addUnit(n.tmpConfig.fontSize),color:n.tmpConfig.color})},{default:c((()=>[d(h(n.tmpConfig.message),1)])),_:1},8,["style"])])),_:3})])),_:3},8,["class","style"])])),_:3},8,["customStyle","show"])}],["__scopeId","data-v-2061f62a"]]);const N=x({data:()=>({show:!1,notifyData:{message:"notify顶部提示",type:"primary",color:"#ffffff",bgColor:"",fontSize:15,duration:3e3},list:[{notifyData:{message:"notify顶部提示",type:"primary",color:"#ffffff",bgColor:"",fontSize:15,duration:3e3},title:"主要通知",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/main.png"},{notifyData:{message:"notify顶部提示",type:"success",color:"#ffffff",bgColor:"",fontSize:15,duration:3e3,safeAreaInsetTop:!1},title:"成功通知",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/success.png"},{notifyData:{message:"notify顶部提示",type:"error",color:"#ffffff",bgColor:"",fontSize:14,duration:3e3,safeAreaInsetTop:!1},title:"危险通知",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/error.png"},{notifyData:{message:"notify顶部提示",type:"warning",color:"#ffffff",bgColor:"",fontSize:15,duration:3e3,safeAreaInsetTop:!1},title:"警告通知",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/warning.png"},{notifyData:{message:"notify顶部提示",color:"#fff",bgColor:"#000",fontSize:15,duration:3e3,safeAreaInsetTop:!1},title:"自定义样式",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/customStyle.png"},{notifyData:{message:"notify顶部提示",type:"primary",color:"#ffffff",bgColor:"",fontSize:15,duration:6e3,safeAreaInsetTop:!1},title:"自定义时间",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/customTime.png"},{notifyData:{message:"notify顶部提示",color:"#fff",bgColor:"",fontSize:15,duration:3e3,safeAreaInsetTop:!0},title:"插入状态栏高度",iconUrl:"https://cdn.uviewui.com/uview/demo/notify/height.png"}]}),onLoad(){},methods:{openNotify(t){this.$refs.uNotify.show({...t})}}},[["render",function(o,e,i,n,s,r){const f=v(a("up-gap"),t),m=T,y=v(a("up-cell"),I),g=v(a("up-cell-group"),k),d=v(a("up-notify"),D),h=w;return p(),l(h,{class:"u-page"},{default:c((()=>[u(f,{height:"30",bgColor:"#fff"}),u(g,null,{default:c((()=>[(p(!0),_(z,null,b(s.list,((t,o)=>(p(),l(y,{titleStyle:{fontWeight:500},onClick:o=>r.openNotify(t.notifyData),title:t.title,key:o,isLink:""},{icon:c((()=>[u(m,{class:"u-cell-icon",src:t.iconUrl,mode:"widthFix"},null,8,["src"])])),_:2},1032,["onClick","title"])))),128))])),_:1}),u(d,{ref:"uNotify"},null,512)])),_:1})}],["__scopeId","data-v-6c2ce746"]]);export{N as default};
