import{l as t,n as l,m as i,f as o,p as s,s as e,x as r,y as a,o as n,c,w as d,a as _,h as u,u as m,v as h,i as p,I as g,r as f,j as w,b,d as y,F as x,k as W,z as v,t as S,e as C}from"./index-BL4J5lWE.js";import{_ as j}from"./u-icon.Dw1lMtqQ.js";import{r as k}from"./uni-app.es.D5nkAKqv.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";const L=t({props:{indicatorWidth:{type:[String,Number],default:()=>l.scrollList.indicatorWidth},indicatorBarWidth:{type:[String,Number],default:()=>l.scrollList.indicatorBarWidth},indicator:{type:Boolean,default:()=>l.scrollList.indicator},indicatorColor:{type:String,default:()=>l.scrollList.indicatorColor},indicatorActiveColor:{type:String,default:()=>l.scrollList.indicatorActiveColor},indicatorStyle:{type:[String,Object],default:()=>l.scrollList.indicatorStyle}}});function A(t,l){t.selectComponent(".u-scroll-list__indicator__line__bar")&&t.selectComponent(".u-scroll-list__indicator__line__bar").setStyle({transform:"translateX("+l+"px)"})}const $={scroll:function(t,l){var i=t.detail,o=i.scrollWidth,s=i.scrollLeft,e=t.currentTarget.dataset;A(l,s/(o-(e.scrollWidth||e.scrollwidth||0))*((e.indicatorWidth||e.indicatorwidth||0)-(e.barWidth||e.barwidth||0)))},scrolltolower:function(t,l){l.callMethod("scrollEvent","right");var i=t.currentTarget.dataset;A(l,(i.indicatorWidth||i.indicatorwidth||0)-(i.barWidth||i.barwidth||0))},scrolltoupper:function(t,l){l.callMethod("scrollEvent","left"),A(l,0)}},I=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("wxs"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.wxs=$}})},M={name:"u-scroll-list",mixins:[i,o,L],data:()=>({scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}),computed:{barStyle(){const t={};return t.width=s(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle(){const t={};return t.width=s(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted(){this.init()},emits:["left","right"],methods:{addStyle:e,getPx:r,init(){this.getComponentWidth()},scrollEvent(t){this.$emit(t)},async getComponentWidth(){await a(30),this.$uGetRect(".u-scroll-list").then((t=>{this.scrollWidth=t.width}))}}};I(M);const U=B(M,[["render",function(t,l,i,o,s,e){const r=p,a=g;return n(),c(r,{class:"u-scroll-list",ref:"u-scroll-list"},{default:d((()=>[_(a,{class:"u-scroll-list__scroll-view scroll-view-native","scroll-x":"","enable-flex":"",onScroll:t.wxs.scroll,onScrolltoupper:t.wxs.scrolltoupper,onScrolltolower:t.wxs.scrolltolower,"data-scrollWidth":s.scrollWidth,"data-barWidth":e.getPx(t.indicatorBarWidth),"data-indicatorWidth":e.getPx(t.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0},{default:d((()=>[_(r,{class:"u-scroll-list__scroll-view__content"},{default:d((()=>[u(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["onScroll","onScrolltoupper","onScrolltolower","data-scrollWidth","data-barWidth","data-indicatorWidth"]),t.indicator?(n(),c(r,{key:0,class:"u-scroll-list__indicator",style:m([e.addStyle(t.indicatorStyle)])},{default:d((()=>[_(r,{class:"u-scroll-list__indicator__line",style:m([e.lineStyle])},{default:d((()=>[_(r,{class:"u-scroll-list__indicator__line__bar",style:m([e.barStyle]),ref:"u-scroll-list__indicator__line__bar"},null,8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):h("",!0)])),_:3},512)}],["__scopeId","data-v-89e56555"]]);const E=B({data:()=>({goodsBaseUrl:"https://cdn.uviewui.com/uview/goods/",menuBaseUrl:"https://cdn.uviewui.com/uview/menu/",goodsArr:[{price:"230.5",thumbnail:"1.jpg"},{price:"74.1",thumbnail:"2.jpg"},{price:"8457",thumbnail:"6.jpg"},{price:"1442",thumbnail:"5.jpg"},{price:"541",thumbnail:"2.jpg"},{price:"234",thumbnail:"3.jpg"},{price:"562",thumbnail:"4.jpg"},{price:"251.5",thumbnail:"1.jpg"}],menuArr:[[{name:"天猫新品",icon:"11.png"},{name:"今日爆款",icon:"9.png"},{name:"天猫国际",icon:"17.png"},{name:"饿了么",icon:"6.png"},{name:"天猫超市",icon:"11.png"},{name:"分类",icon:"2.png"},{name:"天猫美食",icon:"3.png"},{name:"阿里健康",icon:"12.png"},{name:"口碑生活",icon:"7.png"}],[{name:"充值中心",icon:"8.png"},{name:"机票酒店",icon:"10.png"},{name:"金币庄园",icon:"18.png"},{name:"阿里拍卖",icon:"15.png"},{name:"淘宝吃货",icon:"16.png"},{name:"闲鱼",icon:"4.png"},{name:"会员中心",icon:"6.png"},{name:"造点新货",icon:"13.png"},{name:"土货鲜食",icon:"14.png"}]]}),methods:{showMore(){uni.$u.toast("查看更多")},left(){console.log("left")},right(){console.log("right")}}},[["render",function(t,l,i,o,s,e){const r=W,a=C,u=p,m=k(f("up-icon"),j),h=k(f("up-scroll-list"),U);return n(),c(u,{class:"u-page"},{default:d((()=>[_(u,{class:"u-demo-block"},{default:d((()=>[_(r,{class:"u-demo-block__title",style:{"margin-bottom":"15px"}},{default:d((()=>[w("基础使用")])),_:1}),_(h,{indicatorColor:"#fff0f0",indicatorActiveColor:"#f56c6c",onRight:e.right,onLeft:e.left},{default:d((()=>[_(u,{class:"scroll-list",style:{"flex-direction":"row"}},{default:d((()=>[(n(!0),b(x,null,y(s.goodsArr,((t,l)=>(n(),c(u,{class:v(["scroll-list__goods-item",[9===l&&"scroll-list__goods-item--no-margin-right"]]),key:l},{default:d((()=>[_(a,{class:"scroll-list__goods-item__image",src:s.goodsBaseUrl+t.thumbnail,mode:""},null,8,["src"]),_(r,{class:"scroll-list__goods-item__text"},{default:d((()=>[w("￥"+S(t.price),1)])),_:2},1024)])),_:2},1032,["class"])))),128)),_(u,{class:"scroll-list__show-more",onClick:e.showMore},{default:d((()=>[_(r,{class:"scroll-list__show-more__text"},{default:d((()=>[w("查看更多")])),_:1}),_(m,{name:"arrow-leftward",color:"#f56c6c",size:"12"})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onRight","onLeft"])])),_:1}),_(u,{class:"u-demo-block"},{default:d((()=>[_(r,{class:"u-demo-block__title"},{default:d((()=>[w("多菜单扩展")])),_:1}),_(h,null,{default:d((()=>[_(u,{class:"scroll-list"},{default:d((()=>[(n(!0),b(x,null,y(s.menuArr,((t,l)=>(n(),c(u,{class:"scroll-list__line",key:l},{default:d((()=>[(n(!0),b(x,null,y(t,((l,i)=>(n(),c(u,{class:v(["scroll-list__line__item",[i===t.length-1&&"scroll-list__line__item--no-margin-right"]]),key:i},{default:d((()=>[_(a,{class:"scroll-list__line__item__image",src:s.menuBaseUrl+l.icon,mode:""},null,8,["src"]),_(r,{class:"scroll-list__line__item__text"},{default:d((()=>[w(S(l.name),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-b884b81e"]]);export{E as default};
