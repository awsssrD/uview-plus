import{_ as t}from"./up-loading-icon.DXCjh8Fn.js";import{m as o,k as e,J as i,K as s,L as n,I as a,n as r,r as p,o as m,c as l,w as c,a as g,y as u,q as f,s as y,f as h,t as d,g as C,i as _}from"./index-C3UXxwfW.js";import{r as w}from"./uni-app.es.CqYlZVXb.js";import{_ as x}from"./up-icon.BrIVCe5a.js";import{_ as S}from"./up-gap.QI1TW2Jw.js";import{_ as b}from"./up-overlay.CoCKb7JO.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=v({name:"up-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon?!0===this.tmpConfig.icon?["error","warning","success","primary"].includes(this.tmpConfig.type)?i(this.tmpConfig.type):"":this.tmpConfig.icon:""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=s(n[this.tmpConfig.type])),t},contentStyle(){const t=a().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=r(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}},[["render",function(o,e,i,s,n,a){const r=w(p("up-loading-icon"),t),v=w(p("up-icon"),x),j=w(p("up-gap"),S),T=C,I=_,k=w(p("up-overlay"),b);return m(),l(I,{class:"up-toast"},{default:c((()=>[g(k,{show:n.isShow,zIndex:n.tmpConfig.overlay?10070:-1,"custom-style":a.overlayStyle},{default:c((()=>[g(I,{class:u(["up-toast__content",["up-type-"+n.tmpConfig.type,"loading"===n.tmpConfig.type||n.tmpConfig.loading?"up-toast__content--loading":""]]),style:f([a.contentStyle])},{default:c((()=>["loading"===n.tmpConfig.type?(m(),l(r,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==n.tmpConfig.type&&a.iconName?(m(),l(v,{key:1,name:a.iconName,size:"17",color:n.tmpConfig.type,customStyle:a.iconStyle},null,8,["name","color","customStyle"])):y("",!0),"loading"===n.tmpConfig.type||n.tmpConfig.loading?(m(),l(j,{key:2,height:"12",bgColor:"transparent"})):y("",!0),g(T,{class:u(["up-toast__content__text",["up-toast__content__text--"+n.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:c((()=>[h(d(n.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","zIndex","custom-style"])])),_:1})}],["__scopeId","data-v-6608b35f"]]);export{j as _};
